<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/src/style.css" />
    <title>Sensor Dashboard</title>
</head>
<body>
<div id="app" class="min-h-screen flex flex-col">
    <header class="bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50">
        <div class="container mx-auto px-8 py-4 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold shadow-indigo-200 shadow-lg">S</div>
                <h1 class="text-lg font-semibold text-gray-800 tracking-tight">Sensor<span class="text-indigo-600">Sense</span></h1>
            </div>
            <button id="refresh-btn" class="bg-gray-900 hover:bg-gray-800 text-white px-5 py-2 rounded-full text-sm font-medium transition-all shadow-lg shadow-gray-200 active:transform active:scale-95">
                Sync Now
            </button>
        </div>
    </header>

    <main class="container mx-auto px-8 py-10 flex-grow max-w-7xl">
        <div id="loading" class="hidden fixed inset-0 bg-white/60 z-50 flex items-center justify-center backdrop-blur-sm">
            <div class="flex flex-col items-center gap-3">
                <div class="w-8 h-8 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin"></div>
                <p class="text-sm font-medium text-indigo-900">Updating feeds...</p>
            </div>
        </div>
        <div id="error" class="hidden bg-red-50 border border-red-100 text-red-600 px-4 py-3 rounded-xl text-sm mb-6"></div>

        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 mb-8">

            <div class="lg:col-span-7 flex flex-col">
                <div class="bg-white p-1 rounded-2xl shadow-sm border border-gray-100 h-[500px] relative z-0">
                    <div id="map" class="w-full h-full rounded-xl z-0"></div>
                </div>
            </div>

            <div class="lg:col-span-5 flex flex-col gap-6 h-[500px]">
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex-1 flex flex-col">
                    <div class="flex justify-between items-baseline mb-4">
                        <h3 class="font-semibold text-gray-700">Environmental Metrics</h3>
                        <span class="text-xs text-gray-400 font-medium uppercase tracking-wider">Live</span>
                    </div>
                    <div class="relative flex-grow w-full">
                        <canvas id="barChart"></canvas>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex-1 flex flex-col">
                    <div class="flex justify-between items-baseline mb-4">
                        <h3 class="font-semibold text-gray-700">System Health</h3>
                        <span class="text-xs text-gray-400 font-medium uppercase tracking-wider">Deviation</span>
                    </div>
                    <div class="relative flex-grow w-full">
                        <canvas id="doughnutChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden">
            <div class="px-8 py-6 border-b border-gray-50 flex justify-between items-center">
                <h3 class="font-semibold text-gray-800">Sensor Logs</h3>
                <span class="text-xs bg-gray-100 text-gray-500 px-3 py-1 rounded-full font-medium">Real-time</span>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                    <tr class="text-xs font-semibold text-gray-400 uppercase tracking-wider border-b border-gray-50">
                        <th class="px-8 py-4 bg-gray-50/50">Location</th>
                        <th class="px-8 py-4 bg-gray-50/50">Temperature</th>
                        <th class="px-8 py-4 bg-gray-50/50">Moisture</th>
                        <th class="px-8 py-4 bg-gray-50/50">Status</th>
                        <th class="px-8 py-4 bg-gray-50/50">Timestamp</th>
                    </tr>
                    </thead>
                    <tbody id="data-table-body" class="text-sm text-gray-600 divide-y divide-gray-50">
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</div>
<script type="module" src="/src/main.ts"></script>
</body>
</html>